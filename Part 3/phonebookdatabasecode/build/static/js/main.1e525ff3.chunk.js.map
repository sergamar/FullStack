{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/phoneService.js","components/Persons.js","components/Message.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","newFilter","onChange","filterUpdater","PersonForm","onSubmit","inputHandler","newName","nameUpdater","newNumber","numberUpdater","type","baseUrl","phoneService","axios","get","then","response","data","newObject","post","id","setPersons","persons","request","delete","concat","filter","person","newPerson","put","Persons","name","startsWith","map","key","number","onClick","window","confirm","setMessage","class","text","setTimeout","Message","_ref","message","className","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","useEffect","components_Message","components_Filter","event","target","components_PersonForm","preventDefault","repeated","find","undefined","catch","error","objectSpread","edited","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.1e525ff3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = (props) => (\r\n  <div>\r\n    filter shown with <input\r\n      value={props.newFilter}\r\n      onChange={props.filterUpdater}>\r\n    </input>\r\n  </div>\r\n)\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = (props) => (\r\n    <form onSubmit={props.inputHandler}>\r\n    <div>\r\n      name: <input \r\n        value={props.newName}\r\n        onChange={props.nameUpdater}/>\r\n    </div>\r\n    <div>\r\n      number: <input \r\n        value={props.newNumber}\r\n        onChange={props.numberUpdater}/>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst erase = (id, setPersons, persons) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  setPersons(persons.filter(person => person.id !== id))\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = newPerson => {\r\n  const request = axios.put(`${baseUrl}/${newPerson.id}`, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create,\r\n  erase: erase,\r\n  update: update\r\n}","import React from 'react'\r\nimport phoneService from '../services/phoneService'\r\n\r\nconst Persons = (props) => (\r\n    props.persons.filter(person => person.name.startsWith(props.newFilter)).map( person => \r\n    <li key={person.id}>{person.name} {person.number} \r\n    <button onClick=\r\n    {() => {if(window.confirm(`Do you really want to delete ${person.name}?`)){\r\n    phoneService.erase(person.id, props.setPersons, props.persons)\r\n    props.setMessage({\r\n        class : 'success',\r\n        text: `${person.name} deleted successfully!`\r\n    })\r\n    setTimeout( () => {\r\n        props.setMessage(null)\r\n    }, 5000)\r\n}}}>Delete</button></li>))\r\n\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Message = ({message}) => {\r\n    if(message === null){\r\n        return null\r\n    }\r\n    return(<div className={message.class}>\r\n        {message.text}\r\n    </div>)\r\n}\r\n\r\n\r\nexport default Message","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport phoneService from './services/phoneService'\r\nimport Message from './components/Message'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [ message, setMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    phoneService.getAll().then(persons => setPersons(persons))\r\n  }, [])\r\n\r\n  const inputHandler = (event) => {\r\n    event.preventDefault()\r\n    const repeated = persons.find( (person) => person.name === newName)\r\n    if(repeated !== undefined){\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        phoneService.update({...repeated, number: newNumber}).then(edited => {\r\n          setPersons(persons.map(person => person.name !== newName ? person : edited))\r\n        }).catch(error => {\r\n          setMessage({\r\n            class: 'error',\r\n            text: `${newName} has been deleted from the server by another user`\r\n          })\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n          setPersons(persons.filter(person => person.name !== newName))\r\n        })\r\n        setMessage({\r\n          class: 'success',\r\n          text: newName + '\\'s phone number edited successfully!'\r\n        })\r\n        setTimeout(() =>{\r\n          setMessage(null)\r\n        }, 5000)\r\n      }\r\n      return\r\n    }\r\n    if(newName === '' || newNumber === ''){\r\n      setMessage({\r\n        class: 'error',\r\n        text: 'Name nor number can be empty'\r\n      })\r\n      setTimeout(() =>{\r\n        setMessage(null)\r\n      }, 5000)\r\n      return\r\n    }\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    phoneService.create(newPerson).then(data => {\r\n      setPersons(persons.concat(data))\r\n      setMessage({\r\n        class: 'success',\r\n        text: `${newName} registered successfully!`\r\n      })\r\n      setTimeout(() =>{\r\n        setMessage(null)\r\n      }, 5000)\r\n    }).catch(error => {\r\n      setMessage({\r\n        class: 'error',\r\n        text: error.response.data.error\r\n      })\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)\r\n      return\r\n    })\r\n    \r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const nameUpdater = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const numberUpdater = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const filterUpdater = (event) => {\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n        <Message message={message} />\r\n        <Filter filterUpdater={filterUpdater} newFilter={newFilter} />\r\n      <h3>Add a new</h3>\r\n        <PersonForm newName={newName} newNumber={newNumber} nameUpdater={nameUpdater} \r\n        numberUpdater={numberUpdater} inputHandler={inputHandler} />\r\n      <h3>Numbers</h3>\r\n        <Persons newFilter={newFilter} persons={persons} setPersons={setPersons} setMessage={setMessage}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n\n\n\n"],"sourceRoot":""}