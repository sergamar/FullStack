{"version":3,"sources":["services/login.js","services/blogs.js","components/Blog.js","App.js","index.js"],"names":["services_login","login","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","credentials","response","wrap","_context","prev","next","axios","post","sent","abrupt","data","stop","_x","apply","this","arguments","services_blogs","get","then","title","author","url","token","body","config","headers","Authorization","Blog","blog","react_default","createElement","App","_useState","useState","_useState2","slicedToArray","blogs","setBlogs","_useState3","_useState4","newTitle","setNewTitle","_useState5","_useState6","newAuthor","setNewAuthor","_useState7","_useState8","newUrl","setNewUrl","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","successMessage","setSuccessMessage","_useState13","_useState14","username","setUsername","_useState15","_useState16","password","setPassword","_useState17","_useState18","user","setUser","useEffect","blogServices","initialBlogs","handleLogin","event","_user","preventDefault","loginService","t0","setTimeout","addBlog","concat","exception","nothing","className","onClick","onSubmit","type","value","name","onChange","_ref2","target","_ref3","_ref4","_ref5","_ref6","map","components_Blog","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5f71481b.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => {\n    return response.data\n  })\n}\n\nconst uploadBlog = (title, author, url, token) => {\n  const body = {\n    title: title,\n    author: author,\n    url: url\n  }\n  const config = {\n    headers: {\n      'Authorization': 'Bearer ' + token\n    }\n  }\n  const request = axios.post(baseUrl, body, config)\n  return request.then(response => {\n    return response.data\n  })\n}\n\nexport default { getAll, uploadBlog }","import React from 'react'\nconst Blog = ({ blog }) => (\n  <li>\n    {blog.title} {blog.author}\n  </li>\n)\n\nexport default Blog","import React, {useState, useEffect} from 'react'\nimport loginService from './services/login'\nimport blogServices from './services/blogs'\nimport Blog from './components/Blog'\nimport './index.css'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([]) \n  const [newTitle, setNewTitle] = useState('')\n  const [newAuthor, setNewAuthor] = useState('')\n  const [newUrl, setNewUrl] = useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    blogServices\n      .getAll().then(initialBlogs => {\n        setBlogs(initialBlogs)\n      })\n  }, [])\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('Wrong credentials')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const addBlog = (event) => {\n    event.preventDefault()\n    try{\n      blogServices.uploadBlog(newTitle, newAuthor, newUrl, user.token)\n      setSuccessMessage(newTitle + ' has been added successfully!!')\n      setBlogs(blogs.concat({\n        title: newTitle,\n        author: newAuthor,\n        url: newUrl\n      }))\n      setTimeout(() => {\n        setSuccessMessage(null)\n      }, 5000)\n    } catch (exception) {\n      setErrorMessage(exception)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const loginForm = () => (\n    <form onSubmit={handleLogin}>\n      <div>\n        username\n          <input\n          type=\"text\"\n          value={username}\n          name=\"Username\"\n          onChange={({ target }) => setUsername(target.value)}\n        />\n      </div>\n      <div>\n        password\n          <input\n          type=\"password\"\n          value={password}\n          name=\"Password\"\n          onChange={({ target }) => setPassword(target.value)}\n        />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>      \n  )\n\n  const blogForm = () => (\n    <form onSubmit={addBlog}>\n      <div>\n        title:\n          <input\n          type=\"text\"\n          value={newTitle}\n          name=\"title:\"\n          onChange={({ target }) => setNewTitle(target.value)}\n        />\n      </div>\n      <div>\n        author:\n          <input\n          type=\"text\"\n          value={newAuthor}\n          name=\"Author\"\n          onChange={({ target }) => setNewAuthor(target.value)}\n        />\n      </div>\n      <div>\n        url:\n          <input\n          type=\"text\"\n          value={newUrl}\n          name=\"Url\"\n          onChange={({ target }) => setNewUrl(target.value)}\n        />\n      </div>\n      <button type=\"submit\">save</button>\n    </form>  \n  )\n\n  const logged = () => (\n    <div>\n    {user.username} logged in.\n    <button onClick={() => setUser(null)}>\n      logout\n    </button>\n    </div>\n  )\n\n  const nothing = () => {\n    return\n  }\n\n  const errorDisplay = () => (\n    <div className=\"error\">\n      {errorMessage}\n    </div>\n  )\n\n  const successDisplay = () => (\n    <div className=\"success\">\n      {successMessage}\n    </div>\n  )\n\n  return (\n    <div>\n      <h1>Blogs</h1>\n\n      {errorMessage === null ? nothing() : errorDisplay()}\n      {successMessage === null ? nothing() : successDisplay()}\n\n      {user !== null ? logged() : nothing()}\n\n      <h2>Login</h2>\n\n      {user === null ? loginForm() : blogForm()}\n      \n        {blogs.map( blog => (\n          <Blog blog={blog} />\n        ))}\n    </div>\n  )\n}\n\nexport default App\n","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}